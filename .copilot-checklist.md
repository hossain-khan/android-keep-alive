# Development Checklist for GitHub Copilot

## Pre-Development Setup
- [ ] Android Studio Iguana+ installed
- [ ] JDK 21 configured
- [ ] Android SDK 34 installed
- [ ] Project synced and builds successfully

## Code Changes Checklist

### Before Making Changes
- [ ] Read `.copilot-instructions.md` for project context
- [ ] Understand the specific component's role in the architecture
- [ ] Check existing patterns in similar files
- [ ] Verify API level constraints (target 34, min 28)

### During Development
- [ ] Follow repository pattern for data access
- [ ] Use Compose best practices for UI
- [ ] Implement proper error handling with Timber logging
- [ ] Use DataStore for any new preferences
- [ ] Follow reactive programming with Flow/StateFlow
- [ ] Respect foreground service constraints
- [ ] Handle permission requirements appropriately

### Code Quality
- [ ] Run `./gradlew ktlintFormat` before committing
- [ ] Add unit tests for business logic
- [ ] Add Compose tests for UI components
- [ ] Update documentation if API changes
- [ ] Check for memory leaks in ViewModels

### Testing Requirements
- [ ] Unit tests pass: `./gradlew test`
- [ ] Lint checks pass: `./gradlew ktlintCheck`
- [ ] UI tests compile: `./gradlew :app:assembleDebugAndroidTest`
- [ ] Manual testing on physical device (for permissions)
- [ ] Foreground service functionality verified
- [ ] App selection and monitoring works correctly

### Pre-Commit Checklist
- [ ] No hardcoded strings (use string resources)
- [ ] No magic numbers (use constants)
- [ ] Proper resource cleanup (viewModelScope, lifecycle awareness)
- [ ] No breaking changes to public APIs
- [ ] Version catalog updated if new dependencies added
- [ ] README updated if architecture changes

### Common Patterns to Follow

#### Repository Pattern
```kotlin
class SomeRepository(private val context: Context) {
    val someFlow: Flow<T> = context.dataStore.data.map { ... }
    suspend fun saveSomething(value: T) { ... }
}
```

#### ViewModel Pattern
```kotlin
class SomeViewModel(private val repository: SomeRepository) : ViewModel() {
    val uiState = repository.someFlow.stateIn(...)
    fun doSomething() = viewModelScope.launch { ... }
}
```

#### Compose Screen Pattern
```kotlin
@Composable
fun SomeScreen(
    viewModel: SomeViewModel = viewModel(),
    navController: NavController
) {
    val uiState by viewModel.uiState.collectAsState()
    // UI implementation
}
```

### Security Considerations
- [ ] No secrets in code or version control
- [ ] Proper permission handling
- [ ] Input validation for user data
- [ ] Secure network requests (HTTPS only)
- [ ] Safe handling of package information

### Performance Considerations
- [ ] Efficient Compose recomposition
- [ ] Proper coroutine scope usage
- [ ] Memory-efficient data structures
- [ ] Background work optimization
- [ ] Battery usage optimization