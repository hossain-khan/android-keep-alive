# Android Keep Alive - Quick Reference for Copilot

## Project Summary
Android app that monitors and auto-restarts selected apps using a foreground service. Built with Kotlin, Jetpack Compose, and modern Android architecture patterns.

## Key Files & Structure
```
├── .copilot-instructions.md      # Main Copilot guidelines
├── .copilot-firewall.md         # Network access requirements  
├── .copilot-dev-env.md          # Development environment setup
├── app/build.gradle.kts         # Android module configuration
├── gradle/libs.versions.toml    # Dependency version catalog
├── settings.gradle.kts          # Gradle project setup
└── app/src/main/java/dev/hossain/keepalive/
    ├── MainActivity.kt          # Entry point + navigation
    ├── MainViewModel.kt         # Main screen state
    ├── service/WatchdogService.kt # Core monitoring service
    ├── data/SettingsRepository.kt # App preferences
    └── ui/screen/               # Compose UI screens
```

## Critical Constraints
- ⚠️ **DO NOT target API 35** - breaks foreground service functionality  
- Target API 34 only
- Requires sensitive permissions (SYSTEM_ALERT_WINDOW, QUERY_ALL_PACKAGES)
- Must run as foreground service for continuous monitoring

## Technology Stack
- **UI**: Jetpack Compose + Material3
- **State**: MVVM with StateFlow/Flow
- **Storage**: DataStore Preferences  
- **Network**: OkHttp
- **Background**: Foreground Services
- **Code Quality**: ktlint formatting

## Common Tasks
- **Format**: `./gradlew ktlintFormat`
- **Lint**: `./gradlew ktlintCheck`  
- **Build**: `./gradlew :app:assembleDebug`
- **Test**: Physical device required for full functionality

## Architecture Pattern
Repository → ViewModel → Compose UI with reactive data flow using Kotlin Flow and DataStore.