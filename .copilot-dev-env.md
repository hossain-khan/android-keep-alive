# Development Environment Configuration for GitHub Copilot

## Project Context
This Android application monitors and automatically restarts specified apps using foreground services. The project is optimized for GitHub Copilot development assistance.

## IDE and Tool Configuration

### Android Studio Setup
- **Recommended Version**: Android Studio Iguana or later
- **JDK Version**: 21 (as specified in GitHub Actions)
- **Gradle JVM**: Use project JDK
- **Build Variant**: Debug for development

### Required SDK Components
- Android SDK Platform 34
- Android SDK Build-Tools 34.0.0+
- Android SDK Platform-Tools
- Android Emulator (for testing)

### Code Style Configuration
The project uses ktlint for consistent formatting:
```bash
# Check formatting
./gradlew ktlintCheck

# Auto-format code
./gradlew ktlintFormat
```

## Environment Variables
No special environment variables required for basic development. Optional:
- `JAVA_HOME`: Set to JDK 21 installation path
- `ANDROID_HOME`: Set to Android SDK installation path

## Copilot-Specific Optimizations

### Context Files
- `.copilot-instructions.md` - Project-specific development guidelines
- `.copilot-firewall.md` - Network access requirements
- `gradle/libs.versions.toml` - Centralized dependency versions
- `README.md` - Architecture and setup documentation

### Build Configuration Context
The project uses:
- Gradle Kotlin DSL for type-safe build scripts
- Version catalogs for dependency management
- Signing configuration with fallback for CI/CD
- Explicit Android API targeting constraints

### Common Development Patterns
1. **Data Flow**: Repository → ViewModel → Compose UI
2. **Settings**: DataStore Preferences with Flow-based reactive updates
3. **Navigation**: Compose Navigation with single Activity
4. **Async Operations**: Kotlin Coroutines with proper lifecycle handling
5. **Error Handling**: Timber logging with proper error propagation

### Testing Strategy
- Unit tests for repository and business logic
- Compose UI tests for screen interactions
- No integration tests with Android system services (due to permission requirements)

## Development Workflow
1. Fork/clone repository
2. Open in Android Studio
3. Sync Gradle files
4. Run `./gradlew ktlintCheck` to verify setup
5. Create feature branch
6. Develop with Copilot assistance
7. Test on device/emulator (permissions required)
8. Submit PR with lint checks passing

## Troubleshooting Common Issues

### Build Failures
- Check Android SDK components are installed
- Verify JDK 21 is selected
- Run `./gradlew clean` and retry

### Permission Issues
- App requires manual permission grants
- Use physical device for realistic testing
- Some permissions require user interaction

### Foreground Service Issues
- Target API 34 only (not 35)
- Test battery optimization settings
- Verify SYSTEM_ALERT_WINDOW permission

This configuration ensures GitHub Copilot has comprehensive context about the project structure, constraints, and development patterns.